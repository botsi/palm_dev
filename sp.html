<html>
<head>
<script type="text/javascript">


function loadXMLDoc(ud, cfunc, val) {

    xmlhttp = new XMLHttpRequest();

    xmlhttp.onreadystatechange = cfunc;


        xmlhttp.open("POST", ud, true);

        //xmlhttp.setRequestHeader("expires", "0");
        //xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        xmlhttp.send(val);


};


/*
  "author": {
    "name": "David",
    "email": "david@abotsi.com",
    "date": "2017-07-99T15:13:30"
  },

*/

//      POST /repos/:owner/:repo/git/commits

var git_commit = {
  "message": "my newer botsi commit message",
  "parents": ["6fbc377894483032f37dc4a5676c7499fed6577a"],
  "tree": "92dae60e16113508e5cf6842caf39a2893cf6b29"
};

var repo = 'palm_dev';

var up_git = function() {

    loadXMLDoc('https://api.github.com/repos/botsi/' + repo + '/git/commits', function() {

        if (xmlhttp.readyState == 4) {
            if (xmlhttp.status == 201) {

                var git_arr = JSON.parse(xmlhttp.responseText);

console.log(git_arr);


            } else {
                alert('git shit happens');
            }
        }
    },git_commit);

};

//document.getElementsByTagName('head')[0].appendChild(script);
</script>
</head>

<body>
<button type="button" onclick="up_git()">up git</button>
  <p>Open up your browser's console.</p>
</body>
</html>